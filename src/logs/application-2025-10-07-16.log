{"level":"info","message":"Loading and validating config for the first time...","timestamp":"2025-10-07 16:07:40"}
{"level":"info","message":"Config loaded and validated","timestamp":"2025-10-07 16:07:40"}
{"level":"info","message":"Starting web server...","timestamp":"2025-10-07 16:07:40"}
{"level":"info","message":"Express middlewares are set up","timestamp":"2025-10-07 16:07:40"}
{"level":"info","message":"Defining routes...","timestamp":"2025-10-07 16:07:40"}
{"level":"info","message":"Setting up routes for User","timestamp":"2025-10-07 16:07:40"}
{"level":"info","message":"Setting up routes for User","timestamp":"2025-10-07 16:07:40"}
{"level":"info","message":"Setting up routes for Classes","timestamp":"2025-10-07 16:07:43"}
{"level":"info","message":"Setting up routes for Student","timestamp":"2025-10-07 16:07:44"}
{"level":"info","message":"Setting up routes for Bus","timestamp":"2025-10-07 16:07:46"}
{"level":"info","message":"Setting up routes for Course","timestamp":"2025-10-07 16:07:46"}
{"level":"info","message":"Routes defined","timestamp":"2025-10-07 16:07:46"}
{"level":"info","message":"Server is about to listen to port 4000","timestamp":"2025-10-07 16:07:46"}
{"level":"info","message":"Server is running on :::4000","timestamp":"2025-10-07 16:07:46"}
{"level":"info","message":"Connecting to MongoDB...","timestamp":"2025-10-07 16:07:46"}
{"cause":{"beforeHandshake":false,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"MongoDB connection error Client network socket disconnected before secure TLS connection was established","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"ac-ivmosh9-shard-00-00.qzqw50d.mongodb.net:27017":{"$clusterTime":null,"address":"ac-ivmosh9-shard-00-00.qzqw50d.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":243380171,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-ivmosh9-shard-00-01.qzqw50d.mongodb.net:27017":{"$clusterTime":null,"address":"ac-ivmosh9-shard-00-01.qzqw50d.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":243380149,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-ivmosh9-shard-00-02.qzqw50d.mongodb.net:27017":{"$clusterTime":null,"address":"ac-ivmosh9-shard-00-02.qzqw50d.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":243380255,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-leq49e-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"stack":"MongoServerSelectionError: Client network socket disconnected before secure TLS connection was established\n    at Topology.selectServer (/Users/rizwanahmed/Documents/project/Academy_Backend/src/node_modules/mongoose/node_modules/mongodb/lib/sdam/topology.js:326:38)\n    at async Topology._connect (/Users/rizwanahmed/Documents/project/Academy_Backend/src/node_modules/mongoose/node_modules/mongodb/lib/sdam/topology.js:200:28)\n    at async Topology.connect (/Users/rizwanahmed/Documents/project/Academy_Backend/src/node_modules/mongoose/node_modules/mongodb/lib/sdam/topology.js:152:13)\n    at async topologyConnect (/Users/rizwanahmed/Documents/project/Academy_Backend/src/node_modules/mongoose/node_modules/mongodb/lib/mongo_client.js:258:17)\n    at async MongoClient._connect (/Users/rizwanahmed/Documents/project/Academy_Backend/src/node_modules/mongoose/node_modules/mongodb/lib/mongo_client.js:271:13)\n    at async MongoClient.connect (/Users/rizwanahmed/Documents/project/Academy_Backend/src/node_modules/mongoose/node_modules/mongodb/lib/mongo_client.js:196:13)\n    at async NativeConnection.createClient (/Users/rizwanahmed/Documents/project/Academy_Backend/src/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js:351:3)\n    at async NativeConnection.openUri (/Users/rizwanahmed/Documents/project/Academy_Backend/src/node_modules/mongoose/lib/connection.js:1094:5)\n    at async connectWithMongoDb (/Users/rizwanahmed/Documents/project/Academy_Backend/src/libraries/db/index.js:17:3)\n    at async startWebServer (/Users/rizwanahmed/Documents/project/Academy_Backend/src/server.js:37:3)","timestamp":"2025-10-07 16:08:16"}
{"level":"error","message":"App received SIGINT event, try to gracefully close the server","timestamp":"2025-10-07 16:12:56"}
{"level":"info","message":"Loading and validating config for the first time...","timestamp":"2025-10-07 16:12:58"}
{"level":"info","message":"Config loaded and validated","timestamp":"2025-10-07 16:12:58"}
{"level":"info","message":"Starting web server...","timestamp":"2025-10-07 16:12:58"}
{"level":"info","message":"Express middlewares are set up","timestamp":"2025-10-07 16:12:58"}
{"level":"info","message":"Defining routes...","timestamp":"2025-10-07 16:12:58"}
{"level":"info","message":"Setting up routes for User","timestamp":"2025-10-07 16:12:58"}
{"level":"info","message":"Setting up routes for User","timestamp":"2025-10-07 16:12:58"}
{"level":"info","message":"Setting up routes for Classes","timestamp":"2025-10-07 16:13:01"}
{"level":"info","message":"Setting up routes for Student","timestamp":"2025-10-07 16:13:03"}
{"level":"info","message":"Setting up routes for Bus","timestamp":"2025-10-07 16:13:06"}
{"level":"info","message":"Setting up routes for Course","timestamp":"2025-10-07 16:13:06"}
{"level":"info","message":"Routes defined","timestamp":"2025-10-07 16:13:06"}
{"level":"info","message":"Server is about to listen to port 4000","timestamp":"2025-10-07 16:13:06"}
{"level":"info","message":"Server is running on :::4000","timestamp":"2025-10-07 16:13:06"}
{"level":"info","message":"Connecting to MongoDB...","timestamp":"2025-10-07 16:13:06"}
{"level":"info","message":"MongoDB connection is open","timestamp":"2025-10-07 16:13:07"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-10-07 16:13:07"}
{"HTTPStatus":500,"cause":null,"isTrusted":true,"level":"error","message":"Unexpected token } in JSON at position 314 Unexpected token } in JSON at position 314","name":"SyntaxError","stack":"SyntaxError: Unexpected token } in JSON at position 314\n    at JSON.parse (<anonymous>)\n    at parse (/Users/rizwanahmed/Documents/project/Academy_Backend/src/node_modules/body-parser/lib/types/json.js:92:19)\n    at /Users/rizwanahmed/Documents/project/Academy_Backend/src/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:203:9)\n    at invokeCallback (/Users/rizwanahmed/Documents/project/Academy_Backend/src/node_modules/raw-body/index.js:238:16)\n    at done (/Users/rizwanahmed/Documents/project/Academy_Backend/src/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/rizwanahmed/Documents/project/Academy_Backend/src/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:525:35)\n    at endReadableNT (node:internal/streams/readable:1358:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)","timestamp":"2025-10-07 16:18:39"}
{"level":"info","message":"GET /api/v1/schedule/create","timestamp":"2025-10-07 16:19:55"}
{"level":"info","message":"POST /api/v1/schedule/create","timestamp":"2025-10-07 16:20:07"}
{"level":"info","message":"Loading and validating config for the first time...","timestamp":"2025-10-07 16:20:57"}
{"level":"info","message":"Config loaded and validated","timestamp":"2025-10-07 16:20:57"}
{"level":"info","message":"Starting web server...","timestamp":"2025-10-07 16:20:57"}
{"level":"info","message":"Express middlewares are set up","timestamp":"2025-10-07 16:20:57"}
{"level":"info","message":"Defining routes...","timestamp":"2025-10-07 16:20:57"}
{"level":"info","message":"Setting up routes for User","timestamp":"2025-10-07 16:20:57"}
{"level":"info","message":"Setting up routes for User","timestamp":"2025-10-07 16:20:57"}
{"level":"info","message":"Setting up routes for Classes","timestamp":"2025-10-07 16:21:00"}
{"level":"info","message":"Setting up routes for Student","timestamp":"2025-10-07 16:21:01"}
{"level":"info","message":"Setting up routes for Bus","timestamp":"2025-10-07 16:21:02"}
{"level":"info","message":"Setting up routes for Course","timestamp":"2025-10-07 16:21:02"}
{"level":"info","message":"Setting up routes for Student","timestamp":"2025-10-07 16:21:02"}
{"level":"info","message":"Routes defined","timestamp":"2025-10-07 16:21:02"}
{"level":"info","message":"Server is about to listen to port 4000","timestamp":"2025-10-07 16:21:02"}
{"level":"info","message":"Server is running on :::4000","timestamp":"2025-10-07 16:21:02"}
{"level":"info","message":"Connecting to MongoDB...","timestamp":"2025-10-07 16:21:02"}
{"level":"info","message":"MongoDB connection is open","timestamp":"2025-10-07 16:21:04"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-10-07 16:21:04"}
{"level":"info","message":"POST /api/v1/schedule/create","timestamp":"2025-10-07 16:21:08"}
{"body":{"course":"68dbfcd5d4a04c0b2ef5c405","endDate":"2025-10-11T00:00:00.000Z","scheduleSlots":[{"day":"Monday","time":"09:00 - 10:00"},{"day":"Wednesday","time":"11:00 - 12:30"},{"day":"Friday","time":"13:00 - 14:00"}],"startDate":"2025-10-07T00:00:00.000Z","teachers":["67000d16aabec65d0c06e130","67000d1faabec65d0c06e145"],"weekNumber":1},"level":"info","message":"POST /api/v1/schedule/create","params":{},"query":{},"timestamp":"2025-10-07 16:21:08"}
{"level":"info","message":"getById(): classes fetched","timestamp":"2025-10-07 16:21:08"}
{"level":"info","message":"POST /api/v1/schedule/create","statusCode":404,"timestamp":"2025-10-07 16:21:08"}
{"level":"info","message":"POST /api/v1/schedule/create","timestamp":"2025-10-07 16:21:45"}
{"body":{"course":"68dbfcd5d4a04c0b2ef5c405","endDate":"2025-10-11T00:00:00.000Z","scheduleSlots":[{"day":"Monday","time":"09:00 - 10:00"},{"day":"Wednesday","time":"11:00 - 12:30"},{"day":"Friday","time":"13:00 - 14:00"}],"startDate":"2025-10-07T00:00:00.000Z","teachers":["67000d16aabec65d0c06e130","67000d1faabec65d0c06e145"],"weekNumber":1},"level":"info","message":"POST /api/v1/schedule/create","params":{},"query":{},"timestamp":"2025-10-07 16:21:45"}
{"level":"info","message":"getById(): classes fetched","timestamp":"2025-10-07 16:21:45"}
{"level":"info","message":"POST /api/v1/schedule/create","statusCode":404,"timestamp":"2025-10-07 16:21:45"}
{"level":"info","message":"Loading and validating config for the first time...","timestamp":"2025-10-07 16:22:32"}
{"level":"info","message":"Config loaded and validated","timestamp":"2025-10-07 16:22:33"}
{"level":"info","message":"Starting web server...","timestamp":"2025-10-07 16:22:33"}
{"level":"info","message":"Express middlewares are set up","timestamp":"2025-10-07 16:22:33"}
{"level":"info","message":"Defining routes...","timestamp":"2025-10-07 16:22:33"}
{"level":"info","message":"Setting up routes for User","timestamp":"2025-10-07 16:22:33"}
{"level":"info","message":"Setting up routes for User","timestamp":"2025-10-07 16:22:33"}
{"level":"info","message":"Setting up routes for Classes","timestamp":"2025-10-07 16:22:35"}
{"level":"info","message":"Setting up routes for Student","timestamp":"2025-10-07 16:22:37"}
{"level":"info","message":"Setting up routes for Bus","timestamp":"2025-10-07 16:22:39"}
{"level":"info","message":"Setting up routes for Course","timestamp":"2025-10-07 16:22:39"}
{"level":"info","message":"Setting up routes for Schedule","timestamp":"2025-10-07 16:22:39"}
{"level":"info","message":"Routes defined","timestamp":"2025-10-07 16:22:39"}
{"level":"info","message":"Server is about to listen to port 4000","timestamp":"2025-10-07 16:22:39"}
{"level":"info","message":"Server is running on :::4000","timestamp":"2025-10-07 16:22:39"}
{"level":"info","message":"Connecting to MongoDB...","timestamp":"2025-10-07 16:22:39"}
{"level":"info","message":"MongoDB connection is open","timestamp":"2025-10-07 16:22:43"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-10-07 16:22:43"}
{"level":"info","message":"POST /api/v1/schedule/create","timestamp":"2025-10-07 16:23:38"}
{"body":{"courseId":"68dbfcd5d4a04c0b2ef5c405","endDate":"2025-10-11T00:00:00.000Z","scheduleSlots":[{"day":"Monday","time":"09:00 - 10:00"},{"day":"Wednesday","time":"11:00 - 12:30"},{"day":"Friday","time":"13:00 - 14:00"}],"startDate":"2025-10-07T00:00:00.000Z","teachers":["67000d16aabec65d0c06e130","67000d1faabec65d0c06e145"],"weekNumber":1},"level":"info","message":"POST /api/v1/schedule/create","params":{},"query":{},"timestamp":"2025-10-07 16:23:38"}
{"id":"68dbfcd5d4a04c0b2ef5c405","level":"info","message":"getById(): classes fetched","timestamp":"2025-10-07 16:23:49"}
{"HTTPStatus":500,"cause":null,"isTrusted":true,"level":"error","message":"create is not defined create is not defined","name":"ReferenceError","stack":"ReferenceError: create is not defined\n    at /Users/rizwanahmed/Documents/project/Academy_Backend/src/domains/Schedule/api.js:53:22\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","timestamp":"2025-10-07 16:23:59"}
{"level":"info","message":"POST /api/v1/schedule/create","statusCode":500,"timestamp":"2025-10-07 16:23:59"}
{"level":"info","message":"Loading and validating config for the first time...","timestamp":"2025-10-07 16:24:49"}
{"level":"info","message":"Config loaded and validated","timestamp":"2025-10-07 16:24:49"}
{"level":"info","message":"Starting web server...","timestamp":"2025-10-07 16:24:49"}
{"level":"info","message":"Express middlewares are set up","timestamp":"2025-10-07 16:24:49"}
{"level":"info","message":"Defining routes...","timestamp":"2025-10-07 16:24:49"}
{"level":"info","message":"Setting up routes for User","timestamp":"2025-10-07 16:24:49"}
{"level":"info","message":"Setting up routes for User","timestamp":"2025-10-07 16:24:49"}
{"level":"info","message":"Setting up routes for Classes","timestamp":"2025-10-07 16:24:51"}
{"level":"info","message":"Setting up routes for Student","timestamp":"2025-10-07 16:24:53"}
{"level":"info","message":"Setting up routes for Bus","timestamp":"2025-10-07 16:24:54"}
{"level":"info","message":"Setting up routes for Course","timestamp":"2025-10-07 16:24:54"}
{"level":"info","message":"Setting up routes for Schedule","timestamp":"2025-10-07 16:24:54"}
{"level":"info","message":"Routes defined","timestamp":"2025-10-07 16:24:54"}
{"level":"info","message":"Server is about to listen to port 4000","timestamp":"2025-10-07 16:24:54"}
{"level":"info","message":"Server is running on :::4000","timestamp":"2025-10-07 16:24:54"}
{"level":"info","message":"Connecting to MongoDB...","timestamp":"2025-10-07 16:24:54"}
{"level":"info","message":"MongoDB connection is open","timestamp":"2025-10-07 16:25:16"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-10-07 16:25:16"}
{"level":"info","message":"POST /api/v1/schedule/create","timestamp":"2025-10-07 16:25:16"}
{"body":{"courseId":"68dbfcd5d4a04c0b2ef5c405","endDate":"2025-10-11T00:00:00.000Z","scheduleSlots":[{"day":"Monday","time":"09:00 - 10:00"},{"day":"Wednesday","time":"11:00 - 12:30"},{"day":"Friday","time":"13:00 - 14:00"}],"startDate":"2025-10-07T00:00:00.000Z","teachers":["67000d16aabec65d0c06e130","67000d1faabec65d0c06e145"],"weekNumber":1},"level":"info","message":"POST /api/v1/schedule/create","params":{},"query":{},"timestamp":"2025-10-07 16:25:16"}
{"id":"68dbfcd5d4a04c0b2ef5c405","level":"info","message":"getById(): classes fetched","timestamp":"2025-10-07 16:25:18"}
{"id":"68e4c05ec5eb59072d7cac3d","level":"info","message":"create(): Schedule created","timestamp":"2025-10-07 16:25:19"}
{"level":"info","message":"POST /api/v1/schedule/create","statusCode":201,"timestamp":"2025-10-07 16:25:19"}
{"level":"error","message":"App received SIGINT event, try to gracefully close the server","timestamp":"2025-10-07 16:28:51"}
